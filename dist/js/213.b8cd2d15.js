"use strict";(self["webpackChunkapi_test_vue"]=self["webpackChunkapi_test_vue"]||[]).push([[213],{1241:function(t,e){e.A=(t,e)=>{const s=t.__vccOpts||t;for(const[a,r]of e)s[a]=r;return s}},2469:function(t,e,s){s.d(e,{N:function(){return i}});var a=s(2261),r=s(1552);const i=(0,a.nY)("proStore",{state:()=>({pro:{},env_list:[],env:0,inetrfaces:[],sceneList:[],taskList:[]}),getters:{interface1(){return this.inetrfaces.filter((t=>"1"===t.type))},interface2(){return this.inetrfaces.filter((t=>"2"===t.type))}},actions:{async getInterFaces(){const t=await r.A.getInterFaces(this.pro.id);200===t.status?this.inetrfaces=t.data:console.log(`获取项目id${this.pro.id}失败`)},async getScenes(){const t=await r.A.getScenes(this.pro.id);200===t.status&&(this.sceneList=t.data)},async getTestTask(){const t=await r.A.getTestTaskList(this.pro.id);200===t.status&&(this.taskList=t.data)}},persist:{enabled:!0,strategies:{key:"users",storage:localStorage}}})},6594:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});s(4114);var a=s(6768),r=s(144),i=s(4232),n=s(1552),o=s(2469),c=s(37),l=s(5710),p=s(1387);const u={class:"main"};var d={__name:"RecordsView",setup(t){const e=(0,p.rd)();var s=(0,o.N)(),d=(0,r.KR)([]);async function f(){var t={project:s.pro.id},e=await n.A.getTestRecords(t);200===e.status&&(d.value=e.data,_())}function _(){let t=[],e=[];d.value.forEach((s=>{t.push((100*s.pass_rate).toFixed(2)),e.push(l.A.rhost(s.create_time))})),e.reverse(),t.reverse();var s=document.getElementById("chat_pro_record");c.A.chart3(s,t,e)}function b(t){e.push({name:"report",params:{id:t.id}})}return(0,a.sV)((()=>{f()})),(t,e)=>{const s=(0,a.g2)("el-table-column"),n=(0,a.g2)("el-button"),o=(0,a.g2)("el-table");return(0,a.uX)(),(0,a.CE)("div",u,[e[1]||(e[1]=(0,a.Lk)("div",{class:"box1",id:"chat_pro_record"},null,-1)),(0,a.bF)(o,{data:(0,r.R1)(d),stripe:"",style:{width:"100%"},size:"small"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{label:"执行时间",width:"180"},{default:(0,a.k6)((t=>[(0,a.eW)((0,i.v_)((0,r.R1)(l.A).rDate(t.row.create_time)),1)])),_:1}),(0,a.bF)(s,{prop:"env",label:"执行环境",width:"180"}),(0,a.bF)(s,{prop:"task",label:"测试计划"}),(0,a.bF)(s,{prop:"all",label:"总用例"}),(0,a.bF)(s,{prop:"success",label:"通过数"}),(0,a.bF)(s,{prop:"pass_rate",label:"通过率"},{default:(0,a.k6)((t=>[(0,a.eW)((0,i.v_)((100*t.row.pass_rate).toFixed(2)+"%"),1)])),_:1}),(0,a.bF)(s,{prop:"address",label:"测试报告"},{default:(0,a.k6)((t=>[(0,a.bF)(n,{onClick:e=>b(t.row),icon:"View",type:"primary",plain:"",size:"small"},{default:(0,a.k6)((()=>e[0]||(e[0]=[(0,a.eW)("查看报告")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}}},f=s(1241);const _=(0,f.A)(d,[["__scopeId","data-v-90441494"]]);var b=_}}]);
//# sourceMappingURL=213.b8cd2d15.js.map