"use strict";(self["webpackChunkapi_test_vue"]=self["webpackChunkapi_test_vue"]||[]).push([[581],{1241:function(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[l,o]of t)a[l]=o;return a}},2469:function(e,t,a){a.d(t,{N:function(){return n}});var l=a(2261),o=a(1552);const n=(0,l.nY)("proStore",{state:()=>({pro:{},env_list:[],env:0,inetrfaces:[],sceneList:[],taskList:[]}),getters:{interface1(){return this.inetrfaces.filter((e=>"1"===e.type))},interface2(){return this.inetrfaces.filter((e=>"2"===e.type))}},actions:{async getInterFaces(){const e=await o.A.getInterFaces(this.pro.id);200===e.status?this.inetrfaces=e.data:console.log(`获取项目id${this.pro.id}失败`)},async getScenes(){const e=await o.A.getScenes(this.pro.id);200===e.status&&(this.sceneList=e.data)},async getTestTask(){const e=await o.A.getTestTaskList(this.pro.id);200===e.status&&(this.taskList=e.data)}},persist:{enabled:!0,strategies:{key:"users",storage:localStorage}}})},7581:function(e,t,a){a.r(t),a.d(t,{default:function(){return V}});a(4114);var l=a(6768),o=a(144),n=a(4232),s=a(1552),i=a(1219),u=a(2933),c=a(1387),r=a(2469);const d={class:"pro_page"},p={class:"pro_box"},f={class:"welecome"},m={class:"pro_list"},k={class:"pro"},b=["onClick"],g=["src"],v={class:"name"},h={class:"btn_box"},_={class:"dialog-footer"},y={class:"dialog-footer"};var F={__name:"ProjectView",setup(e){let t=(0,o.KR)([]);async function F(){const e=await s.A.getProListApi();200===e.status&&(t.value=e.data)}F();const w=(0,o.KR)(!1);function L(){w.value=!0}function V(){w.value=!1,x.name="",x.leader=""}async function C(){const e=await s.A.createProApi(x);201===e.status?(0,i.nk)({message:"创建项目成功",type:"success"}):(0,i.nk)({message:"创建项目失败",type:"error"}),V(),F()}const x=(0,o.Kh)({name:"",leader:""}),A=(0,o.Kh)({urls:[a(2411),a(4848),a(9049),a(9078),a(2879),a(7604),a(845),a(7962)]});function W(e){u.s.confirm(`删除项目:${e.name}后数据将不再恢复，是否确认删除？`,"提示！",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await s.A.delProApi(e.id);204===t.status&&(0,i.nk)({type:"success",message:"删除成功"})})).catch((()=>{(0,i.nk)({type:"info",message:"取消删除"})})),F()}const K=(0,o.KR)(!1),T=(0,o.KR)({});function U(e){K.value=!0,T.value={...e}}async function P(){let e=T.value.id;const t=await s.A.updateProApi(e,T.value);200===t.status&&((0,i.nk)({type:"success",message:"更改成功"}),K.value=!1,F())}function R(){K.value=!1}const I=(0,c.rd)();function S(e){let t=(0,r.N)();I.push({name:"home"}),t.pro=e}return(e,a)=>{const s=(0,l.g2)("el-button"),i=(0,l.g2)("el-carousel-item"),u=(0,l.g2)("el-carousel"),c=(0,l.g2)("el-input"),r=(0,l.g2)("el-form-item"),F=(0,l.g2)("el-form"),I=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",d,[(0,l.Lk)("div",p,[(0,l.Lk)("div",f,[a[8]||(a[8]=(0,l.Lk)("span",null,"欢迎使用自动化测试平台",-1)),(0,l.bF)(s,{type:"primary",onClick:L},{default:(0,l.k6)((()=>a[7]||(a[7]=[(0,l.eW)("添加项目")]))),_:1})]),(0,l.Lk)("div",m,[(0,l.bF)(u,{type:"card",height:"600px"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,o.R1)(t),((e,t)=>((0,l.uX)(),(0,l.Wv)(i,{key:t},{default:(0,l.k6)((()=>[(0,l.Lk)("div",k,[(0,l.Lk)("div",{onClick:t=>S(e)},[(0,l.Lk)("img",{src:A.urls[t]},null,8,g),(0,l.Lk)("div",v,(0,n.v_)(e.name),1)],8,b),(0,l.Lk)("div",h,[(0,l.bF)(s,{type:"success",icon:"Edit",onClick:t=>U(e)},null,8,["onClick"]),(0,l.bF)(s,{type:"success",icon:"Delete",onClick:t=>W(e)},null,8,["onClick"])])])])),_:2},1024)))),128))])),_:1})])])]),(0,l.bF)(I,{modelValue:w.value,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value=e),title:"添加项目",width:"500"},{footer:(0,l.k6)((()=>[(0,l.Lk)("div",_,[(0,l.bF)(s,{onClick:V},{default:(0,l.k6)((()=>a[9]||(a[9]=[(0,l.eW)("取消")]))),_:1}),(0,l.bF)(s,{type:"primary",onClick:C},{default:(0,l.k6)((()=>a[10]||(a[10]=[(0,l.eW)("确认")]))),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(F,{model:x},{default:(0,l.k6)((()=>[(0,l.bF)(r,{label:"项目名称","label-width":e.formLabelWidth},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:x.name,"onUpdate:modelValue":a[0]||(a[0]=e=>x.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,l.bF)(r,{label:"项目负责人","label-width":e.formLabelWidth},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:x.leader,"onUpdate:modelValue":a[1]||(a[1]=e=>x.leader=e),autocomplete:"on"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,l.bF)(I,{modelValue:K.value,"onUpdate:modelValue":a[6]||(a[6]=e=>K.value=e),title:"更改项目",width:"500"},{footer:(0,l.k6)((()=>[(0,l.Lk)("div",y,[(0,l.bF)(s,{onClick:R},{default:(0,l.k6)((()=>a[11]||(a[11]=[(0,l.eW)("取消")]))),_:1}),(0,l.bF)(s,{type:"primary",onClick:a[5]||(a[5]=e=>P())},{default:(0,l.k6)((()=>a[12]||(a[12]=[(0,l.eW)("确认")]))),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(F,{model:T.value},{default:(0,l.k6)((()=>[(0,l.bF)(r,{label:"项目名称","label-width":e.formLabelWidth},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:T.value.name,"onUpdate:modelValue":a[3]||(a[3]=e=>T.value.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,l.bF)(r,{label:"项目负责人","label-width":e.formLabelWidth},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:T.value.leader,"onUpdate:modelValue":a[4]||(a[4]=e=>T.value.leader=e),autocomplete:"on"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}}},w=a(1241);const L=(0,w.A)(F,[["__scopeId","data-v-6116a3bc"]]);var V=L},2411:function(e,t,a){e.exports=a.p+"img/pro01.a5649c2e.png"},4848:function(e,t,a){e.exports=a.p+"img/pro02.305634a4.png"},9049:function(e,t,a){e.exports=a.p+"img/pro03.f8eb7ccc.png"},9078:function(e,t,a){e.exports=a.p+"img/pro04.9b8a27b3.png"},2879:function(e,t,a){e.exports=a.p+"img/pro05.e984ed76.png"},7604:function(e,t,a){e.exports=a.p+"img/pro06.ebc1a215.png"},845:function(e,t,a){e.exports=a.p+"img/pro07.1b6c865f.png"},7962:function(e,t,a){e.exports=a.p+"img/pro08.8574e50d.png"}}]);
//# sourceMappingURL=581.5eceb5a9.js.map