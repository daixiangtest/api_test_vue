{"version":3,"file":"js/401.bb6cf6be.js","mappings":"gqRAyEA,MAAMA,GAAOC,EAAAA,EAAAA,KACPC,GAAWC,EAAAA,EAAAA,IAAI,QACrB,IAAIC,GAAQD,EAAAA,EAAAA,IAAI,IAChB,SAASE,EAAUC,GACfF,EAAQG,MAAMD,CAClB,CAGA,IAAIE,GAAQC,EAAAA,EAAAA,IAAS,CACjBC,MAAM,GACNC,UAAU,OAEd,SAASC,EAAQN,GACbO,EAAAA,EAAaC,OAAO,WAAY,CAChCC,kBAAmB,KACnBC,iBAAkB,KAClBC,aAAc,KACdC,kBAAmB,YAGlBC,MAAKC,OAAQb,YACVC,EAAQE,MAAMH,EACdC,EAAQG,UAAUL,EAClB,MAAMe,QAAUC,EAAAA,EAAIC,iBAAiBf,GACpB,MAAba,EAAIG,QACJxB,EAAOyB,gBACPpB,EAAUgB,EAAIK,KAAKpB,KACnBqB,EAAAA,EAAAA,IAAU,CACVC,KAAM,UACNC,QAAS,QAAQtB,UAGjBoB,EAAAA,EAAAA,IAAU,CACVC,KAAM,UACNC,QAAS,QAAQtB,OACrB,IAEHuB,OAAM,MACLH,EAAAA,EAAAA,IAAU,CACRC,KAAM,OACNC,QAAS,UACT,GAER,C,u5GC9GA,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://api_test_vue/./src/views/home/testStep/TestStepView.vue","webpack://api_test_vue/./src/views/home/testStep/TestStepView.vue?a357"],"sourcesContent":["<template>\r\n    <div class=\"card main_box\">\r\n        <!-- 左侧盒子 -->\r\n        <div class=\"card left_box\">\r\n            <div class=\"title_box\">\r\n                <div class=\"title_box\">\r\n                    <img src=\"@/assets/icons/icon-api-b.png\" width=\"25\">\r\n                </div>\r\n                <div class=\"name\">用例管理</div>  \r\n            </div>\r\n                <el-tabs class=\"demo-tabs\" stretch v-model=\"ActiveTabs\">\r\n                    <el-tab-pane label=\"项目接口\" name=\"api1\">\r\n                        <!-- 菜单展示 -->\r\n                        <el-menu default-active=\"1\" class=\"el-menu-vertical-demo\" >\r\n                            <!-- 注意项index的值必须确保唯一性 -->\r\n                            <el-sub-menu :index=\"items.id.toString()\" v-for=\"(items,index) in pstore.interface1\" key=\"index\">\r\n                                <template #title>\r\n                                    <el-icon size=\"small\"><img src=\"@/assets/icons/icon-api-a.png\" width=\"20\"></el-icon>\r\n                                    <el-tag type=\"info\" size=\"small\" style=\"margin: 0 5px;\">post</el-tag>\r\n                                    <span>{{items.name}}</span>\r\n                                </template>\r\n                                <el-menu-item-group>\r\n                                    <el-menu-item :index=\"item.id+id\" v-for=\"(item,id) in items.cases\" key=\"id\" style=\"height: 30px; line-height: 30px;\"  @click=\"getCaseID(item.id)\">\r\n                                        <el-icon><img src=\"@/assets/icons/case.png\" width=\"15\"></el-icon>\r\n                                        <span style=\"margin: 0 5px;\">{{ item.title }}</span>\r\n                                    </el-menu-item>\r\n                                    <el-menu-item index=\"item.id+id\" style=\"height: 30px; line-height: 30px;\" @click=\"addCase(items.id)\">\r\n                                        <el-icon><img src=\"@/assets/icons/add-sub.png\" width=\"15\"></el-icon>\r\n                                        <span style=\"color: #409EFF;\">添加用例</span>\r\n                                    </el-menu-item>\r\n                                </el-menu-item-group>\r\n                            </el-sub-menu>\r\n                        </el-menu>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane label=\"外部接口\" name=\"api2\">\r\n                        <!-- 菜单展示 -->\r\n                        <el-menu default-active=\"2\" class=\"el-menu-vertical-demo\" >\r\n                            <el-sub-menu :index=\"items.id.toString()\" v-for=\"(items,index) in pstore.interface2\" key=\"index\">\r\n                                <template #title>\r\n                                    <el-icon size=\"small\"><img src=\"@/assets/icons/icon-api-b.png\" width=\"20\"></el-icon>\r\n                                    <el-tag type=\"info\" size=\"small\" style=\"margin: 0 5px;\">post</el-tag>\r\n                                    <span>{{items.name}}</span>\r\n                                </template>\r\n                                <el-menu-item-group>\r\n                                    <el-menu-item :index=\"item.id+id\" v-for=\"(item,id) in items.cases\" key=\"id\" style=\"height: 30px; line-height: 30px;\">\r\n                                        <el-icon><img src=\"@/assets/icons/case.png\" width=\"15\"></el-icon>\r\n                                        <span style=\"margin: 0 5px;\">{{ item.title }}</span>\r\n                                    </el-menu-item>\r\n                                    <el-menu-item index=\"item.id+id\"  style=\"height: 30px; line-height: 30px;\" @click=\"addCase(items.id)\">\r\n                                        <el-icon><img src=\"@/assets/icons/add-sub.png\" width=\"15\"></el-icon>\r\n                                        <span style=\"color: #409EFF;\">添加用例</span>\r\n                                    </el-menu-item>\r\n                                </el-menu-item-group>\r\n                            </el-sub-menu>\r\n                        </el-menu>\r\n                    </el-tab-pane>\r\n                </el-tabs>    \r\n        </div>\r\n        <!-- 右侧盒子 -->\r\n        <div class=\"card right_box\">\r\n            <TestCase :case_id=\"case_id\"></TestCase>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { ref,reactive } from 'vue';\r\nimport {ProjectStore} from '@/store/modoles/proStore'\r\nimport TestCase from './TestCase.vue';\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport api from '@/api';\r\n\r\nconst pstore=ProjectStore()\r\nconst ActiveTabs=ref('api1')\r\nvar case_id=ref('')\r\nfunction getCaseID(id){\r\n    case_id.value=id\r\n}\r\n\r\n// 添加接口用例\r\nvar newCase=reactive({\r\n    title:'',\r\n    interface:null\r\n})\r\nfunction addCase(id){\r\n    ElMessageBox.prompt('请输入用例的名称', {\r\n    confirmButtonText: '确认',\r\n    cancelButtonText: '取消',\r\n    inputPattern: /\\S/,\r\n    inputErrorMessage: '用例名称不为空',\r\n  }\r\n)\r\n    .then(async({ value }) => {\r\n        newCase.title=value\r\n        newCase.interface=id\r\n        const res=await api.addInterFaceCase(newCase)\r\n        if (res.status===201){\r\n            pstore.getInterFaces()\r\n            getCaseID(res.data.id)\r\n            ElMessage({\r\n            type: 'success',\r\n            message: `添加用例:${value}成功`,})\r\n        }\r\n        else{\r\n            ElMessage({\r\n            type: 'success',\r\n            message: `添加用例:${value}失败`,})\r\n        }\r\n    })\r\n    .catch(() => {\r\n      ElMessage({\r\n        type: 'info',\r\n        message: '添加用例取消',\r\n      })\r\n    })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main_box{\r\n    height: calc(100% - 42px);\r\n    display: flex;\r\n\r\n    .left_box{\r\n        width: 200px;\r\n        .title_box{\r\n            display: flex;\r\n            height: 40px;\r\n            align-items: center;\r\n            justify-content: center;\r\n            border-bottom: solid 1px #615f5f;\r\n            .name{\r\n                font-weight: bold;\r\n                font-size: 15px;\r\n                margin: 0 5px;\r\n            }\r\n        }\r\n        .demo-tabs{\r\n            .el-menu-vertical-demo{\r\n                border: none;\r\n            }\r\n           \r\n        }\r\n    }\r\n    .right_box{\r\n        width: calc(100% - 200px);\r\n        padding: 10px;\r\n    }\r\n\r\n}\r\n</style>","import script from \"./TestStepView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TestStepView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TestStepView.vue?vue&type=style&index=0&id=f9a8c5ea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f9a8c5ea\"]])\n\nexport default __exports__"],"names":["pstore","ProjectStore","ActiveTabs","ref","case_id","getCaseID","id","value","newCase","reactive","title","interface","addCase","ElMessageBox","prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","then","async","res","api","addInterFaceCase","status","getInterFaces","data","ElMessage","type","message","catch","__exports__"],"sourceRoot":""}